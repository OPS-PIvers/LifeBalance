## 2024-05-22 - Habit Logic Unit Test Coverage **Gap:** `utils/habitLogic.ts` had 0% coverage, and a critical bug existed where habits with count 1 could not be decremented to 0 because of an incorrect guard clause checking the *resulting* count instead of the *initial* count. **Fix:** Created `utils/habitLogic.test.ts` using Vitest to cover `isHabitStale`, `calculateStreak`, `getMultiplier`, and `processToggleHabit`. Identified and fixed the bug in `habitLogic.ts` by changing the guard clause to `if (habit.count === 0)`.
