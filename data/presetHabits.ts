// Preset Habits Configuration
// Effort levels map to base points for habits

export type EffortLevel = 'easy' | 'medium' | 'hard' | 'very_hard';

export const EFFORT_POINTS: Record<EffortLevel, number> = {
  easy: 5,
  medium: 10,
  hard: 20,
  very_hard: 30,
};

export const EFFORT_LABELS: Record<EffortLevel, string> = {
  easy: 'Easy',
  medium: 'Medium',
  hard: 'Hard',
  very_hard: 'Very Hard',
};

export const EFFORT_COLORS: Record<EffortLevel, { bg: string; text: string }> = {
  easy: { bg: 'bg-green-100', text: 'text-green-700' },
  medium: { bg: 'bg-yellow-100', text: 'text-yellow-700' },
  hard: { bg: 'bg-orange-100', text: 'text-orange-700' },
  very_hard: { bg: 'bg-red-100', text: 'text-red-700' },
};

export interface PresetHabit {
  id: string;
  title: string;
  category: string;
  type: 'positive' | 'negative';
  effortLevel: EffortLevel;
  scoringType: 'incremental' | 'threshold';
  period: 'daily' | 'weekly';
  targetCount: number;
  weatherSensitive: boolean;
  description?: string;
}

export const PRESET_HABITS: PresetHabit[] = [
  // Health - Positive
  {
    id: 'preset_exercise_30',
    title: 'Exercise 30 minutes',
    category: 'Health',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: true,
    description: 'Complete at least 30 minutes of physical activity',
  },
  {
    id: 'preset_drink_water',
    title: 'Drink 8 glasses of water',
    category: 'Health',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 8,
    weatherSensitive: false,
    description: 'Stay hydrated throughout the day',
  },
  {
    id: 'preset_sleep_8hrs',
    title: 'Sleep 8 hours',
    category: 'Health',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Get a full night of quality sleep',
  },
  {
    id: 'preset_meditation',
    title: 'Meditate',
    category: 'Health',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Practice mindfulness or meditation',
  },
  {
    id: 'preset_healthy_meal',
    title: 'Eat a healthy meal',
    category: 'Health',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 3,
    weatherSensitive: false,
    description: 'Choose nutritious, whole foods',
  },
  {
    id: 'preset_walk_10k',
    title: 'Walk 10,000 steps',
    category: 'Health',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: true,
    description: 'Reach your daily step goal',
  },
  {
    id: 'preset_stretch',
    title: 'Morning stretch routine',
    category: 'Health',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Start your day with stretching',
  },

  // Health - Negative
  {
    id: 'preset_late_snack',
    title: 'Late night snacking',
    category: 'Health',
    type: 'negative',
    effortLevel: 'medium',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Eating after 9 PM',
  },
  {
    id: 'preset_skip_breakfast',
    title: 'Skip breakfast',
    category: 'Health',
    type: 'negative',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Missing the most important meal',
  },
  {
    id: 'preset_sugary_drink',
    title: 'Sugary drink',
    category: 'Health',
    type: 'negative',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Consuming soda or sugary beverages',
  },

  // Personal - Positive
  {
    id: 'preset_read_30',
    title: 'Read 30 minutes',
    category: 'Personal',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Read a book or educational content',
  },
  {
    id: 'preset_journal',
    title: 'Write in journal',
    category: 'Personal',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Reflect on your day through writing',
  },
  {
    id: 'preset_learn_skill',
    title: 'Practice a skill',
    category: 'Personal',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Work on learning something new',
  },
  {
    id: 'preset_gratitude',
    title: 'Express gratitude',
    category: 'Personal',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Write down 3 things you are grateful for',
  },
  {
    id: 'preset_no_phone_morning',
    title: 'Phone-free morning hour',
    category: 'Personal',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Avoid phone for first hour after waking',
  },

  // Personal - Negative
  {
    id: 'preset_social_media',
    title: 'Excessive social media',
    category: 'Personal',
    type: 'negative',
    effortLevel: 'medium',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Spending too much time scrolling',
  },
  {
    id: 'preset_skip_hobby',
    title: 'Skip personal hobby time',
    category: 'Personal',
    type: 'negative',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Not making time for enjoyable activities',
  },

  // Finance - Positive
  {
    id: 'preset_no_spend',
    title: 'No-spend day',
    category: 'Finance',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Avoid all discretionary spending',
  },
  {
    id: 'preset_review_budget',
    title: 'Review budget',
    category: 'Finance',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Check spending against budget',
  },
  {
    id: 'preset_pack_lunch',
    title: 'Pack lunch',
    category: 'Finance',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Bring lunch from home instead of buying',
  },
  {
    id: 'preset_save_money',
    title: 'Add to savings',
    category: 'Finance',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Transfer money to savings account',
  },

  // Finance - Negative
  {
    id: 'preset_impulse_buy',
    title: 'Impulse purchase',
    category: 'Finance',
    type: 'negative',
    effortLevel: 'hard',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Unplanned, unnecessary purchases',
  },
  {
    id: 'preset_eat_out',
    title: 'Eat out unplanned',
    category: 'Finance',
    type: 'negative',
    effortLevel: 'medium',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Dining out when not budgeted',
  },

  // Home - Positive
  {
    id: 'preset_tidy_10',
    title: 'Tidy for 10 minutes',
    category: 'Home',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Quick daily tidying session',
  },
  {
    id: 'preset_dishes',
    title: 'Wash dishes',
    category: 'Home',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Keep the kitchen clean',
  },
  {
    id: 'preset_make_bed',
    title: 'Make bed',
    category: 'Home',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Start the day with a tidy bed',
  },
  {
    id: 'preset_laundry',
    title: 'Do laundry',
    category: 'Home',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Complete a load of laundry',
  },
  {
    id: 'preset_deep_clean',
    title: 'Deep clean a room',
    category: 'Home',
    type: 'positive',
    effortLevel: 'very_hard',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Thorough cleaning of one room',
  },
  {
    id: 'preset_meal_prep',
    title: 'Meal prep',
    category: 'Home',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Prepare meals for the week',
  },

  // Work - Positive
  {
    id: 'preset_focus_session',
    title: 'Deep work session',
    category: 'Work',
    type: 'positive',
    effortLevel: 'hard',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 2,
    weatherSensitive: false,
    description: '90-minute focused work block',
  },
  {
    id: 'preset_inbox_zero',
    title: 'Clear inbox',
    category: 'Work',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Process all emails to zero',
  },
  {
    id: 'preset_daily_planning',
    title: 'Plan tomorrow',
    category: 'Work',
    type: 'positive',
    effortLevel: 'easy',
    scoringType: 'threshold',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Review and set priorities for tomorrow',
  },
  {
    id: 'preset_weekly_review',
    title: 'Weekly review',
    category: 'Work',
    type: 'positive',
    effortLevel: 'medium',
    scoringType: 'threshold',
    period: 'weekly',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Review accomplishments and set goals',
  },

  // Work - Negative
  {
    id: 'preset_procrastinate',
    title: 'Procrastination episode',
    category: 'Work',
    type: 'negative',
    effortLevel: 'medium',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Avoiding important tasks',
  },
  {
    id: 'preset_skip_break',
    title: 'Skip work break',
    category: 'Work',
    type: 'negative',
    effortLevel: 'easy',
    scoringType: 'incremental',
    period: 'daily',
    targetCount: 1,
    weatherSensitive: false,
    description: 'Working without taking breaks',
  },
];

// Helper to get preset habits grouped by category
export const getPresetHabitsByCategory = (): Record<string, PresetHabit[]> => {
  return PRESET_HABITS.reduce((acc, habit) => {
    if (!acc[habit.category]) {
      acc[habit.category] = [];
    }
    acc[habit.category].push(habit);
    return acc;
  }, {} as Record<string, PresetHabit[]>);
};

// Helper to find a preset habit by ID
export const findPresetHabit = (id: string): PresetHabit | undefined => {
  return PRESET_HABITS.find(h => h.id === id);
};
